{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","components/Persons.js","components/Notification.js","services/phonebook.js","App.js","index.js"],"names":["Filter","filterHandler","filterName","type","onChange","value","PersonForm","submitHanlder","changeNameHandler","changeNumberHandler","newName","newNumber","onSubmit","Person","person","deletePerson","name","number","onClick","id","Persons","filterPersons","deletePhone","map","Notification","message","className","baseUrl","exportObj","getAll","axios","get","then","response","data","create","newObj","post","update","put","deleteRecord","delete","App","useState","persons","setPersons","setFilterPersons","setNewName","setNewNumber","setFilterName","setMessage","messageType","setMessageType","useEffect","phoneBookService","initData","setNotificationMessage","console","log","setTimeout","e","target","filter","p","toLowerCase","includes","preventDefault","length","window","confirm","obj","find","updatedObj","responsedObj","catch","error","updatePhoneBook","returnedObj","addToPhoneBook","contact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.7c7174ce.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ filterHandler, filterName }) => {\n  return (\n    <p>\n      filter shown with\n      <input type=\"text\" onChange={filterHandler} value={filterName} />\n    </p>\n  )\n}\n\nexport default Filter\n","import React from 'react'\n\nconst PersonForm = ({\n  submitHanlder,\n  changeNameHandler,\n  changeNumberHandler,\n  newName,\n  newNumber,\n}) => {\n  return (\n    <form onSubmit={submitHanlder}>\n      <div>\n        name:\n        <input type=\"text\" onChange={changeNameHandler} value={newName} />\n      </div>\n      <div>\n        number:\n        <input type=\"text\" onChange={changeNumberHandler} value={newNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm\n","import React from 'react'\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <p key={person.name}>\n      {person.name} {person.number} &nbsp;{' '}\n      <button onClick={() => deletePerson(person.id)}>delete</button>\n    </p>\n  )\n}\n\nexport default Person\n","import React from 'react'\nimport Person from './Person'\n\nconst Persons = ({ filterPersons, deletePhone }) => {\n  return filterPersons.map((person) => (\n    <Person key={person.name} person={person} deletePerson={deletePhone} />\n  ))\n}\n\nexport default Persons\n","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  return <div className={`info ${type}`}>{message}</div>\n}\n\nexport default Notification\n","import axios from 'axios'\n\n// const baseUrl = 'http://localhost:3001/api/persons'\n// const baseUrl = 'https://sheltered-shelf-77221.herokuapp.com/api/persons'\nconst baseUrl = 'api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\n\nconst create = (newObj) => {\n  const request = axios.post(baseUrl, newObj)\n  return request.then((response) => response.data)\n}\n\nconst update = (id, newObj) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObj)\n  return request.then((response) => response.data)\n}\n\nconst deleteRecord = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst exportObj = {\n  getAll,\n  create,\n  update,\n  deleteRecord,\n}\n\nexport default exportObj\n","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\n\nimport phoneBookService from './services/phonebook'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filterPersons, setFilterPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filterName, setFilterName] = useState('')\n  const [message, setMessage] = useState(null)\n  const [messageType, setMessageType] = useState(null)\n\n  const hook = () => {\n    phoneBookService.getAll().then((initData) => {\n      setPersons(initData)\n      setFilterPersons(initData)\n    })\n  }\n\n  useEffect(hook, [])\n\n  const checkDuplicateName = (name) => {\n    return persons.filter((p) => p.name.toLowerCase() === name.toLowerCase())\n  }\n\n  const filterHandler = (e) => {\n    setFilterName(e.target.value)\n    setFilterPersons(\n      persons.filter((p) => p.name.toLowerCase().includes(e.target.value))\n    )\n  }\n\n  const changeNameHandler = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const changeNumberHandler = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const addToPhoneBook = () => {\n    const newObj = { name: newName, number: newNumber }\n\n    phoneBookService\n      .create(newObj)\n      .then((returnedObj) => {\n        setPersons([...persons, returnedObj])\n        setFilterPersons([...filterPersons, returnedObj])\n\n        setNewName('')\n        setNewNumber('')\n\n        setNotificationMessage(`Added ${newName}`, 'success')\n      })\n      .catch((error) => {\n        console.log(error)\n        setNotificationMessage(error, 'error')\n      })\n  }\n\n  const updatePhoneBook = () => {\n    const confirm = window.confirm(\n      `${newName} is already added to phonebook, replace the old number with a new one?`\n    )\n\n    if (confirm) {\n      const obj = persons.find(\n        (p) => p.name.toLowerCase() === newName.toLowerCase()\n      )\n      const updatedObj = { ...obj, number: newNumber }\n\n      phoneBookService\n        .update(obj.id, updatedObj)\n        .then((responsedObj) => {\n          setPersons(persons.map((p) => (p.id === obj.id ? responsedObj : p)))\n          setFilterPersons(\n            filterPersons.map((p) => (p.id === obj.id ? responsedObj : p))\n          )\n\n          setNotificationMessage(`Updated ${newName}`, 'success')\n        })\n        .catch((error) => {\n          setNotificationMessage(error, 'error')\n        })\n    }\n  }\n\n  const deleteFromPhoneBook = (id) => {\n    const contact = persons.find((p) => p.id === id)\n    const confirm = window.confirm(`Delete ${contact.name} ?`)\n\n    if (confirm) {\n      phoneBookService\n        .deleteRecord(id)\n        .then((response) => {\n          setPersons(persons.filter((p) => p.id !== id))\n          setFilterPersons(filterPersons.filter((p) => p.id !== id))\n\n          setNotificationMessage(`Deleted ${contact.name}`, 'success')\n        })\n        .catch((error) => {\n          setPersons(persons.filter((p) => p.id !== id))\n          setFilterPersons(filterPersons.filter((p) => p.id !== id))\n\n          setNotificationMessage(\n            `the ${contact.name} was already deleted from server`,\n            'error'\n          )\n        })\n    }\n  }\n\n  const submitHanlder = (e) => {\n    e.preventDefault()\n\n    if (checkDuplicateName(newName).length) {\n      updatePhoneBook()\n    } else {\n      addToPhoneBook()\n    }\n  }\n\n  const setNotificationMessage = (message, type) => {\n    console.log(message, type)\n    setMessage(message)\n    setMessageType(type)\n\n    setTimeout(() => {\n      setMessage(null)\n      setMessageType(null)\n    }, 5000)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n      <Notification message={message} type={messageType} />\n\n      <Filter filterHandler={filterHandler} filterName={filterName} />\n\n      <h3>Add a new</h3>\n\n      <PersonForm\n        submitHanlder={submitHanlder}\n        changeNameHandler={changeNameHandler}\n        changeNumberHandler={changeNumberHandler}\n        newName={newName}\n        newNumber={newNumber}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons\n        filterPersons={filterPersons}\n        deletePhone={deleteFromPhoneBook}\n      />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}